= Flow around three cylinder in equilaterial triangular arrangements
:page-plotly: true
:icons: font
:stem: latexmath
:feelpp: Feel++
:nofooter:
:toc: left
:bibtex-file: ibat.bib
:imagesprefix:
ifdef::env-github,env-browser,env-vscode[:imagesprefix: ../images/]

NOTE: this benchmark is based on <<chen-2020>>.

== Presentation of the test case

=== Presentation
This study is based on the flow of a fluid in front of 3 circular and identical cylinders.
The cylinders are arranged in an equilateral rectangle, one of the cylinders is placed upstream and the other two side by side downstream.

In this test case, we are particularly interested in the effect of the spacing ratio L/D and the number of Reynolds Re on the flow, where L is the center-to-center spacing of the cylinder and D is the cylinder diameter.

The numerical results obtained in this study, will be compared with those found in the literature, for different gaps 
stem:[L/D \in [1,6]] and a Reynolds number stem:[Re \in [50,300]].

=== Geometry setting
The arrangement of the cylinders in the calculation area stem:[\Omega] is shown in the figure below :

.The geometric setting for the 3 cylinder with equilaterial triangle arrangement
image::{imagesprefix}3-cylinders-triangle/cylinders.png[]

We provide here the basic geometry used in Gmsh to describe stem:[\Omega].

.Geo file 
[source,cpp,indent=0,small]
----
include::example$3-cylinders-triangular-arrangements/cylinders.geo[]
----

The Data provided on the whole stem:[\Omega] domain allows us to have conditions at the specified limits, the table below summarize these data.

.Geometric data table

[width="100%",options="header,footer"]
|===
| Notation| Description  | Value  | Unit 
|stem:[D] | cylinder diameter  |  -  | stem:[m] 
|stem:[L] | the center-to-center spacing of the cylinder  |  -  | stem:[m]
|stem:[H] | side of the domain        | 200D | stem:[m] 
|stem:[U] | Inlet velocity            |  stem:[\frac{Re}{D}]   | stem:[m/s]
|===

=== Physical setting
The Physical parameters are:

.Physical data table

[width="100%",options="header,footer"]
|===
| Notation| Description           | Value     | Unit 
|stem:[\rho]| Density             |    1      | stem:[Kg/m^3]
|stem:[\mu] | Dynamic viscosity   |    1      | stem:[Pa.s] 
|===


=== Boundary conditions
In this study 3 boundary conditions are imposed: Inlet condition, Outlet condition and the Wall condition.

* Inlet condition

On boundary (1) a Dirichlet-type condition is imposed and a [bleu]#_Poiseuille_# [bleu]#_profile_# is placed as an entry condition, it's defined by:

[stem]
++++
u = U \\
v = 0
++++

.json configuration for the inlet boundary condition
[source,json,indent=0]
----
include::example$3-cylinders-triangular-arrangements/cylinders.json[tag=inlet]
----

* Wall conditions 

On the limits (3), i.e. on the upper and lower wall we have :

[stem]
++++
\frac{\partial{u}}{\partial{x}}=0\\
\frac{\partial{v}}{\partial{x}}=0
++++

.json configuration for the wall boundary condition
[source,json,indent=0]
----
include::example$3-cylinders-triangular-arrangements/cylinders.json[tag=walls]
----

* Outlet condition

On boundary (2) (i.e the exit boundary condition) a Neumann-type condition is imposed

[stem]
++++
\frac{\partial{u}}{\partial{y}}=0\\
v=0
++++

.json configuration for the outlet boundary condition
[source,json,indent=0]
----
include::example$3-cylinders-triangular-arrangements/cylinders.json[tag=outlet]
----

=== Mesh
We move on to meshing to generate fully structured uniform triangular cells, the figure below shows a part of the generated mesh:

.generated mesh for case stem:[L/D = 1.1]

image::{imagesprefix}3-cylinders-triangle/mesh2.png[]

.represents a zoom-in view of the previous mesh
 
image::{imagesprefix}3-cylinders-triangle/mesh1.png[]

== Configuration files

=== cfg file

[source,ini]
----
include::example$3-cylinders-triangular-arrangements/cylinders.cfg[]
----

=== json file

Here the full json configuration file

.Json file
[source,json,indent=0]
----
include::example$3-cylinders-triangular-arrangements/cylinders.json[]
----

== Results

=== `Running the case`:

The command line to run this cases is

[source,sh]
----
mpirun -np 4 feelpp_toolbox_fluid--config-file cylindre.cfg--fluid.snes-monitor=1--fluid.gmsh.hsize=8
----

++++
<button class="btn" data-clipboard-target="#command-line-cfd1">
Copy command line to clipboard
</button>
++++

Once the command is executed the results are exported to ParaView for viewing the flow by executing:

[source,sh]
----
rsync -avz atlas.math.unistra.fr:/feel
----

++++
<button class="btn" data-clipboard-target="#command-line-cfd1">
Copy command line to clipboard
</button>
++++







[bibliography]
== Bibliography 

* [[[chen-2020]]] _Numerical simulations of flow past three circular cylinders in equilateral-triangular arrangements_
Chen, Weilin, Ji, Chunning, Alam, Md. Mahbub, Williams, John, Xu, Dong, Journal of Fluid Mechanics2020 / 05 Vol. 891, link:{attachmentsdir}/jfm.2020.124.pdf[Download PDF]
